webpackJsonp([0,13],{1485:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(14),u=n(r),d=a(47),l=n(d),s=a(23),o=n(s),i=a(19),p=n(i),c=a(1),f=n(c),m=a(8),h=n(m),g=a(2),y=n(g),_=a(5),v=n(_),E=a(3),b=n(E),R=a(4),S=n(R),k=a(49),q=n(k);a(15),a(48),a(26),a(16),a(50);var x=a(0),M=n(x),V=a(13),F=n(V),C=q.default.RangePicker,P=u.default.Item,D=function(e){function t(e){(0,y.default)(this,t);var a=(0,b.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));return a.handleSubmit=function(e){e.preventDefault();var t=a.props;t.dispatch;t.form.validateFields(function(e,t){if(!e){var n=t["range-time-picker"],r={query:t.query,started_at:n?(0,F.default)(n[0]).format("YYYY-MM-DD"):"",ended_at:n?(0,F.default)(n[1]).format("YYYY-MM-DD"):""};a.props.handleSearch((0,f.default)({},r,{page:1}))}})},a.handleFormReset=function(){a.props.form.resetFields(),a.props.handleFormReset()},a.state={},a}return(0,S.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return M.default.createElement(u.default,{onSubmit:this.handleSubmit,layout:"inline"},M.default.createElement(l.default,{gutter:{md:8,lg:24,xl:48}},M.default.createElement(P,{label:this.props.inputText?this.props.inputText:"\u540d\u79f0"},e("query")(M.default.createElement(p.default,{placeholder:"\u8bf7\u8f93\u5165"}))),M.default.createElement(P,{label:this.props.dateText?this.props.dateText:"\u521b\u5efa\u65f6\u95f4"},e("range-time-picker",{initialValue:this.props.initRange?this.props.initRange:""})(M.default.createElement(C,{allowClear:!this.props.initRange}))),M.default.createElement(P,null,M.default.createElement(o.default,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),M.default.createElement(o.default,{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"))))}}]),t}(x.Component),Y=u.default.create()(D);t.default=Y,e.exports=t.default},1488:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,u,d,l=a(28),s=n(l),o=a(42),i=n(o),p=a(44),c=n(p),f=a(23),m=n(f),h=a(92),g=n(h),y=a(68),_=n(y),v=a(228),E=n(v),b=a(35),R=n(b),S=a(1),k=n(S),q=a(8),x=n(q),M=a(2),V=n(M),F=a(5),C=n(F),P=a(3),D=n(P),Y=a(4),N=n(Y),T=a(14),w=n(T);a(29),a(43),a(45),a(26),a(93),a(69),a(339),a(36),a(15);var I=a(0),j=n(I),A=a(11),L=a(41),O=a(1485),J=n(O),z=a(60),K=(r=(0,A.connect)(function(e){return{usergroup:e.usergroup}}),u=w.default.create(),r(d=u(d=function(e){function t(){var e,a,n,r;(0,V.default)(this,t);for(var u=arguments.length,d=Array(u),l=0;l<u;l++)d[l]=arguments[l];return a=n=(0,D.default)(this,(e=t.__proto__||(0,x.default)(t)).call.apply(e,[this].concat(d))),n.state={modalVisible:!1,modalEditVisible:!1,editRecord:{},query:"",page:1,started_at:"",ended_at:""},n.handleFormReset=function(){(0,n.props.dispatch)({type:"usergroup/fetch",payload:{}}),n.setState({page:1,query:"",started_at:"",ended_at:""})},n.handleSearch=function(e){(0,n.props.dispatch)({type:"usergroup/fetch",payload:(0,k.default)({},e)}),n.setState({query:e.query,started_at:e.started_at,ended_at:e.ended_at,page:e.page})},n.handleModalVisible=function(e){n.setState({modalVisible:!!e})},n.handleModalEditVisible=function(e){n.setState({modalEditVisible:!!e})},n.handleAddInput=function(e){n.setState({addInputValue:e.target.value})},n.handleAdd=function(){var e=n,t=(0,z.convertPoliciesTopic)(n.formRef.props.form.getFieldsValue());console.log("formValues",t),n.props.dispatch({type:"usergroup/add",payload:{data:(0,k.default)({},t)},callback:function(){R.default.success("\u6dfb\u52a0\u89c4\u5219\u6210\u529f"),e.setState({modalVisible:!1}),e.props.dispatch({type:"usergroup/fetch",payload:{query:e.state.query,started_at:e.state.started_at,ended_at:e.state.ended_at,page:e.state.page}})}})},n.handleEdit=function(){var e=n,t=(0,z.convertPoliciesTopic)(n.editFormRef.props.form.getFieldsValue());console.log("formValues",t),n.props.dispatch({type:"usergroup/edit",payload:{data:(0,k.default)({id:n.state.editRecord.id},t)},callback:function(){R.default.success("\u4fee\u6539\u89c4\u5219\u6210\u529f"),e.setState({modalEditVisible:!1}),e.props.dispatch({type:"usergroup/fetch",payload:{endpoint_id:e.props.match.params.id,query:e.state.query,started_at:e.state.started_at,ended_at:e.state.ended_at,page:e.state.page}})}})},n.handleEditStatus=function(e,t){var a=0;a=1===t?-1:1;var r=n;n.props.dispatch({type:"usergroup/editStatus",payload:{data:{id:e,status:a}},callback:function(){R.default.success("\u4fee\u6539\u72b6\u6001\u6210\u529f"),r.props.dispatch({type:"usergroup/fetch",payload:{query:r.state.query,started_at:r.state.started_at,ended_at:r.state.ended_at,page:r.state.page}})}})},n.handleRemove=function(e){var t=n;n.props.dispatch({type:"usergroup/remove",payload:{id:e},callback:function(){R.default.success("\u5220\u9664\u7528\u6237\u7ec4\u6210\u529f"),t.props.dispatch({type:"usergroup/fetch",payload:{query:t.state.query,started_at:t.state.started_at,ended_at:t.state.ended_at,page:t.state.page}})}})},n.handPageChange=function(e){n.handleSearch({page:e,query:n.state.query,ended_at:n.state.ended_at,started_at:n.state.started_at})},r=a,(0,D.default)(n,r)}return(0,N.default)(t,e),(0,C.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)({type:"usergroup/fetch",payload:{page:1}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.usergroup,n=a.data,r=a.meta,u=a.loading,d=t.dispatch,l=[{title:"\u540d\u79f0",dataIndex:"display_name"},{title:"\u63cf\u8ff0",dataIndex:"description",className:"description",render:function(e,t,a){return j.default.createElement(E.default,{title:e},e&&e.length>20?e.substring(0,20)+"...":e)}},{title:"\u72b6\u6001",dataIndex:"status",render:function(e,t,a){return j.default.createElement("span",null,j.default.createElement(_.default,{status:-1===e?"error":"success"}),t.status_explain)}},{title:"\u64cd\u4f5c",width:150,render:function(t,a,n){return j.default.createElement("p",null,j.default.createElement("a",{href:"javascript:;",onClick:function(){d(L.routerRedux.push("/system-management/usergroup/"+a.id))}},"\u7f16\u8f91"),j.default.createElement("span",{className:"ant-divider"}),j.default.createElement(g.default,{placement:"topRight",title:"\u786e\u5b9a\u8981"+(1===a.status?"\u7981\u7528":"\u542f\u7528")+"\u5417?",onConfirm:function(){return e.handleEditStatus(a.id,a.status)}},j.default.createElement("a",{href:"javascript:;"},1===a.status?"\u7981\u7528":"\u542f\u7528")),j.default.createElement("span",{className:"ant-divider"}),j.default.createElement(g.default,{placement:"topRight",title:"\u786e\u5b9a\u8981\u5220\u9664\u5417?",onConfirm:function(){return e.handleRemove(a.id)}},j.default.createElement("a",{href:""},"\u5220\u9664")))}}];return j.default.createElement("div",null,j.default.createElement(s.default,{bordered:!1},j.default.createElement("div",{className:"tableList"},j.default.createElement("div",{className:"tableListForm"},j.default.createElement(J.default,{handleSearch:this.handleSearch,handleFormReset:this.handleFormReset})),j.default.createElement("div",{className:"tableListOperator"},j.default.createElement(m.default,{icon:"plus",type:"primary",onClick:function(){return d(L.routerRedux.push("/system-management/usergroup/add"))}},"\u521b\u5efa\u7528\u6237\u7ec4")),j.default.createElement(c.default,{loading:u,rowKey:function(e){return e.id},dataSource:n,columns:l,pagination:!1}),j.default.createElement(i.default,{showQuickJumper:!0,className:"pagination",total:r.pagination.total,current:r.pagination.current_page,pageSize:r.pagination.per_page,onChange:this.handPageChange}))))}}]),t}(I.PureComponent))||d)||d);t.default=K,e.exports=t.default},547:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(8),u=n(r),d=a(2),l=n(d),s=a(5),o=n(s),i=a(3),p=n(i),c=a(4),f=n(c),m=a(0),h=n(m),g=a(30),y=n(g),_=a(232),v=n(_),E=a(41),b=(0,v.default)(function(){return a.e(0).then(a.bind(null,1488))}),R=(0,v.default)(function(){return a.e(14).then(a.bind(null,1489))}),S=function(e){function t(){var e,a,n,r;(0,l.default)(this,t);for(var d=arguments.length,s=Array(d),o=0;o<d;o++)s[o]=arguments[o];return a=n=(0,p.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(s))),n.state={},r=a,(0,p.default)(n,r)}return(0,f.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return h.default.createElement(y.default,{title:{label:"\u7528\u6237\u7ec4\u7ba1\u7406"},breadcrumb:[{name:"\u7cfb\u7edf\u7ba1\u7406"},{name:"\u7528\u6237\u7ec4\u7ba1\u7406"}]},h.default.createElement(E.Switch,null,h.default.createElement(E.Route,{exact:!0,path:"/system-management/usergroup",component:b}),h.default.createElement(E.Route,{path:"/system-management/usergroup/:id",component:R})))}}]),t}(m.PureComponent);t.default=S,e.exports=t.default}});